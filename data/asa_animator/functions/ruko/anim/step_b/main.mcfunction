# This function was generated by ArmorstandAnimator
scoreboard players add @s AsaMatrix 1
execute if entity @s[scores={AsaMatrix=1}] run function asa_animator:ruko/anim/step_b/start
execute if entity @s[scores={AsaMatrix=1}] run function asa_animator:ruko/anim/step_b/keyframes/0
execute if entity @s[scores={AsaMatrix=1..10}] run tp @s ^0 ^0 ^0
execute if entity @s[scores={AsaMatrix=11}] run function asa_animator:ruko/anim/step_b/keyframes/1
execute if entity @s[scores={AsaMatrix=11..20}] run tp @s ^0 ^0 ^0
execute if entity @s[scores={AsaMatrix=21}] run function asa_animator:ruko/anim/step_b/keyframes/2
execute if entity @s[scores={AsaMatrix=21..26}] run tp @s ^0 ^0.6666667 ^0
execute if entity @s[scores={AsaMatrix=27}] run function asa_animator:ruko/anim/step_b/keyframes/3
execute if entity @s[scores={AsaMatrix=27..34}] run tp @s ^0 ^-0.5 ^0 ~0.5 ~
execute if entity @s[scores={AsaMatrix=35}] run function asa_animator:ruko/anim/step_b/keyframes/4
execute if entity @s[scores={AsaMatrix=35..42}] run tp @s ^0 ^0 ^0 ~-0.5 ~
execute if entity @s[scores={AsaMatrix=43}] run function asa_animator:ruko/anim/step_b/keyframes/5
execute if entity @s[scores={AsaMatrix=43..57}] run tp @s ^0 ^0 ^0 ~ ~
execute if entity @s[scores={AsaMatrix=58..}] run function asa_animator:ruko/anim/step_b/end
execute as @e[type=armor_stand,tag=RukoParts] run function #asa_matrix:animate
function asa_animator:ruko/model

execute if entity @s[scores={AsaMatrix=1}] run playsound entity.evoker.cast_spell master @a ~ ~ ~ 3 1
execute if entity @s[scores={AsaMatrix=1..14}] run function asa_animator:ruko/manager/rotate
execute if entity @s[scores={AsaMatrix=1..17}] positioned ^ ^ ^5 run function asa_animator:ruko/anim/gravity/events/particle
execute if entity @s[scores={AsaMatrix=1..17}] positioned ^ ^ ^5 as @a[distance=..16] unless entity @s[scores={MhdpTAvoid=1..}] unless entity @s[scores={MhdpTDamage=1..}] at @s facing entity @e[type=armor_stand,tag=RukoRoot] feet rotated ~ 0 positioned ^ ^ ^0.4 rotated as @s run function asa_animator:ruko/anim/g_flying_press/events/move

execute if entity @s[scores={AsaMatrix=20}] run summon marker ^ ^ ^5 {Tags:["RukoAttackPos"]}
execute if entity @s[scores={AsaMatrix=20}] run function asa_animator:ruko/anim/step_b/events/pos/set_pos
execute if entity @s[scores={AsaMatrix=21..34}] run function asa_animator:ruko/anim/step_b/events/pos/offset
execute if entity @s[scores={AsaMatrix=20}] run function asa_animator:ruko/manager/particle/step
execute if entity @s[scores={AsaMatrix=34}] run function asa_animator:ruko/manager/particle/step
execute if entity @s[scores={AsaMatrix=20}] run tag @s add IsFlying
execute if entity @s[scores={AsaMatrix=34}] run tag @s remove IsFlying

execute if entity @s[scores={AsaMatrix=34..}] at @s if block ~ ~-0.1 ~ #asa_animator:no_collision at @s run function asa_animator:zinogre/manager/check_ground
execute if entity @s[scores={AsaMatrix=34..}] at @s unless block ~ ~0.1 ~ #asa_animator:no_collision at @s run tp @s ~ ~0.1 ~ ~ ~

execute if entity @s[scores={AsaMatrix=11..}] at @e[type=marker,tag=RukoAttackPos] run particle dust 0.592 0.243 0.243 4 ~ ~1 ~ 2 1 2 0.1 3
execute if entity @s[scores={AsaMatrix=41}] at @e[type=marker,tag=RukoAttackPos] run function asa_animator:ruko/anim/step_b/events/damage
# This function was generated by ArmorstandAnimator
scoreboard players add @s AsaMatrix 1
execute if score @s AsaMatrix matches 1 run function asa_animator:reus/charge/start
execute if score @s AsaMatrix matches 1 run function asa_animator:reus/charge/keyframes/0
execute if score @s AsaMatrix matches 1..10 run tp @s ^0 ^-0.01 ^0
execute if score @s AsaMatrix matches 11 run function asa_animator:reus/charge/keyframes/1
execute if score @s AsaMatrix matches 11..20 run tp @s ^0 ^0 ^-0.05
execute if score @s AsaMatrix matches 21 run function asa_animator:reus/charge/keyframes/2
execute if score @s AsaMatrix matches 21..30 run tp @s ^0 ^0 ^0
execute if score @s AsaMatrix matches 31 run function asa_animator:reus/charge/keyframes/3
execute if score @s AsaMatrix matches 31..40 run tp @s ^0 ^0 ^0
execute if score @s AsaMatrix matches 41 run function asa_animator:reus/charge/keyframes/4
execute if score @s AsaMatrix matches 41..45 run tp @s ^0 ^0 ^0
execute if score @s AsaMatrix matches 46 run function asa_animator:reus/charge/keyframes/5
execute if score @s AsaMatrix matches 46..50 run tp @s ^0 ^0.02 ^0.1
execute if score @s AsaMatrix matches 51 run function asa_animator:reus/charge/keyframes/6
execute if score @s AsaMatrix matches 51..75 run tp @s ^0 ^0 ^0
execute if score @s AsaMatrix matches 76 run function asa_animator:reus/charge/keyframes/7
execute if score @s AsaMatrix matches 76..90 run tp @s ^0 ^0 ^0
execute if score @s AsaMatrix matches 91.. run function asa_animator:reus/charge/end
execute as @e[type=armor_stand,tag=ReusParts] run function #asa_matrix:animate
function asa_animator:reus/model

# 敵を向く
execute if score @s AsaMatrix matches 1..21 run function asa_animator:reus/manager/rotate

# 発射位置決定
execute if score @s AsaMatrix matches 22 at @e[tag=ReusAttackTarget,limit=1] run summon marker ~ ~ ~ {Tags:["ReusChargeTarget"]}

# 発射
execute if score @s AsaMatrix matches 50 positioned ^ ^2 ^5 run function asa_animator:reus/charge/effect/particle

# 爆発
execute if score @s AsaMatrix matches 50 at @e[type=marker,tag=ReusChargeAttack,limit=1] rotated ~ 0 positioned ^ ^ ^ run function asa_animator:reus/charge/effect/damage
execute if score @s AsaMatrix matches 56 at @e[type=marker,tag=ReusChargeAttack,limit=1] rotated ~ 0 positioned ^4 ^ ^ run function asa_animator:reus/charge/effect/damage
execute if score @s AsaMatrix matches 62 at @e[type=marker,tag=ReusChargeAttack,limit=1] rotated ~ 0 positioned ^ ^ ^4 run function asa_animator:reus/charge/effect/damage
execute if score @s AsaMatrix matches 68 at @e[type=marker,tag=ReusChargeAttack,limit=1] rotated ~ 0 positioned ^-4 ^ ^ run function asa_animator:reus/charge/effect/damage
execute if score @s AsaMatrix matches 74 at @e[type=marker,tag=ReusChargeAttack,limit=1] rotated ~ 0 positioned ^ ^ ^-4 run function asa_animator:reus/charge/effect/damage
execute if score @s AsaMatrix matches 80 at @e[type=marker,tag=ReusChargeAttack,limit=1] rotated ~ 0 positioned ^ ^ ^ run function asa_animator:reus/charge/effect/damage
execute if score @s AsaMatrix matches 80 run kill @e[tag=ReusChargeTarget]
execute if score @s AsaMatrix matches 80 run kill @e[tag=ReusChargeAttack]
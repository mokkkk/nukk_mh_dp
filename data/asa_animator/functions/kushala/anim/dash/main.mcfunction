# This function was generated by ArmorstandAnimator
scoreboard players add @s AsaMatrix 1
execute if entity @s[scores={AsaMatrix=1}] run function asa_animator:kushala/anim/dash/start
execute if entity @s[scores={AsaMatrix=1}] run function asa_animator:kushala/anim/dash/keyframes/0
execute if entity @s[scores={AsaMatrix=1..4}] run tp @s ^0 ^0.1 ^0
execute if entity @s[scores={AsaMatrix=5}] run function asa_animator:kushala/anim/dash/keyframes/1
execute if entity @s[scores={AsaMatrix=5..9}] run tp @s ^0 ^0.12 ^0
execute if entity @s[scores={AsaMatrix=10}] run function asa_animator:kushala/anim/dash/keyframes/2
execute if entity @s[scores={AsaMatrix=10..14}] run tp @s ^0 ^-0.04 ^0
execute if entity @s[scores={AsaMatrix=15}] run function asa_animator:kushala/anim/dash/keyframes/3
execute if entity @s[scores={AsaMatrix=15..18}] run tp @s ^0 ^-0.2 ^0
execute if entity @s[scores={AsaMatrix=19..}] run function asa_animator:kushala/anim/dash/end
execute as @e[type=armor_stand,tag=KushalaParts] run function #asa_matrix:animate
function asa_animator:kushala/model

execute if entity @s[scores={AsaMatrix=1}] run playsound block.grass.step master @a ~ ~ ~ 2 0.7
execute if entity @s[scores={AsaMatrix=14}] run playsound block.grass.step master @a ~ ~ ~ 2 0.7
execute if entity @s[scores={AsaMatrix=1}] run playsound entity.iron_golem.step master @a ~ ~ ~ 2 0.7
execute if entity @s[scores={AsaMatrix=14}] run playsound entity.iron_golem.step master @a ~ ~ ~ 2 0.7
particle block grass_block ~ ~0.5 ~ 1 0 1 0 3

# 高度調整
execute if entity @s[scores={AsaMatrix=1}] at @s positioned ~ ~5 ~ run tp @s ~ ~ ~
execute if entity @s[scores={AsaMatrix=1}] at @s positioned ~ ~5 ~ run function asa_animator:zinogre/manager/check_ground
execute if entity @s[scores={AsaMatrix=14}] at @s positioned ~ ~5 ~ run tp @s ~ ~ ~
execute if entity @s[scores={AsaMatrix=14}] at @s positioned ~ ~5 ~ run function asa_animator:zinogre/manager/check_ground
execute if entity @s[scores={AsaMatrix=14}] at @s run tp @s ~ ~0.8 ~
function asa_animator:kushala/manager/rotate_lr
execute at @s run tp @s ^ ^ ^1

# 停止
execute if entity @e[type=marker,tag=KushalaDashTarget,distance=0..10] run scoreboard players set #mhdp_kushala_dash_count AsaMatrix 2
execute if entity @e[type=marker,tag=KushalaDashTarget,distance=0..10] run kill @e[type=marker,tag=KushalaDashTarget,distance=0..10]

execute positioned ^ ^ ^3 run function asa_animator:kushala/anim/dash/events/damage
# This function was generated by ArmorstandAnimator
scoreboard players add @s AsaMatrix 1
execute if entity @s[scores={AsaMatrix=1}] run function asa_animator:teo/anim/dash/start
execute if entity @s[scores={AsaMatrix=1}] run function asa_animator:teo/anim/dash/keyframes/0
execute if entity @s[scores={AsaMatrix=1..4}] run tp @s ^0 ^0.1 ^0
execute if entity @s[scores={AsaMatrix=5}] run function asa_animator:teo/anim/dash/keyframes/1
execute if entity @s[scores={AsaMatrix=5..9}] run tp @s ^0 ^0.12 ^0
execute if entity @s[scores={AsaMatrix=10}] run function asa_animator:teo/anim/dash/keyframes/2
execute if entity @s[scores={AsaMatrix=10..14}] run tp @s ^0 ^-0.04 ^0
execute if entity @s[scores={AsaMatrix=15}] run function asa_animator:teo/anim/dash/keyframes/3
execute if entity @s[scores={AsaMatrix=15..18}] run tp @s ^0 ^-0.2 ^0
execute if entity @s[scores={AsaMatrix=19..}] run function asa_animator:teo/anim/bomb_dash/end
execute as @e[type=armor_stand,tag=TeoParts] run function #asa_matrix:animate
function asa_animator:teo/model

execute if entity @s[scores={AsaMatrix=1}] run playsound block.grass.step master @a ~ ~ ~ 2 0.7
execute if entity @s[scores={AsaMatrix=14}] run playsound block.grass.step master @a ~ ~ ~ 2 0.7
execute if entity @s[scores={AsaMatrix=1}] run playsound entity.iron_golem.step master @a ~ ~ ~ 2 0.7
execute if entity @s[scores={AsaMatrix=14}] run playsound entity.iron_golem.step master @a ~ ~ ~ 2 0.7
particle block grass_block ~ ~0.5 ~ 1 0 1 0 3

# 高度調整
execute if entity @s[scores={AsaMatrix=1}] at @s positioned ~ ~5 ~ run tp @s ~ ~ ~
execute if entity @s[scores={AsaMatrix=1}] at @s positioned ~ ~5 ~ run function asa_animator:zinogre/manager/check_ground
execute if entity @s[scores={AsaMatrix=14}] at @s positioned ~ ~5 ~ run tp @s ~ ~ ~
execute if entity @s[scores={AsaMatrix=14}] at @s positioned ~ ~5 ~ run function asa_animator:zinogre/manager/check_ground
execute if entity @s[scores={AsaMatrix=14}] at @s run tp @s ~ ~0.8 ~
execute at @s run function asa_animator:teo/manager/rotate_lr_fast
execute if entity @s[tag=IsRight] if score #mhdp_teo_dash_count AsaMatrix matches 3.. at @s run tp @s ^ ^ ^1 ~4 ~
execute unless entity @s[tag=IsRight] if score #mhdp_teo_dash_count AsaMatrix matches 3.. at @s run tp @s ^ ^ ^1 ~-4 ~
execute if entity @s[tag=IsRight] if score #mhdp_teo_dash_count AsaMatrix matches ..2 at @s run tp @s ^ ^ ^1 ~6 ~
execute unless entity @s[tag=IsRight] if score #mhdp_teo_dash_count AsaMatrix matches ..2 at @s run tp @s ^ ^ ^1 ~-6 ~

execute if entity @s[scores={AsaMatrix=1}] at @s run function asa_animator:teo/manager/bomb/set_bomb
execute if entity @s[scores={AsaMatrix=14}] at @s positioned ~ ~-0.8 ~ run function asa_animator:teo/manager/bomb/set_bomb